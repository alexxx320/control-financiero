{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatTableModule, MatTableDataSource } from '@angular/material/table';\nimport { MatPaginatorModule, MatPaginator } from '@angular/material/paginator';\nimport { MatSortModule, MatSort } from '@angular/material/sort';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport { MatNativeDateModule } from '@angular/material/core';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { MatChipsModule } from '@angular/material/chips';\nimport { Subject } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, takeUntil } from 'rxjs/operators';\nimport { TransaccionDialogComponent } from './transaccion-dialog.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../core/services/transaccion.service\";\nimport * as i3 from \"../../core/services/fondo.service\";\nimport * as i4 from \"@angular/material/dialog\";\nimport * as i5 from \"../../core/services/notification.service\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/material/table\";\nimport * as i8 from \"@angular/material/paginator\";\nimport * as i9 from \"@angular/material/sort\";\nimport * as i10 from \"@angular/material/card\";\nimport * as i11 from \"@angular/material/button\";\nimport * as i12 from \"@angular/material/icon\";\nimport * as i13 from \"@angular/material/form-field\";\nimport * as i14 from \"@angular/material/select\";\nimport * as i15 from \"@angular/material/core\";\nconst _c0 = (a0, a1) => ({\n  \"ingreso-row\": a0,\n  \"gasto-row\": a1\n});\nconst _c1 = () => [10, 25, 50, 100];\nfunction TransaccionesComponent_mat_option_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const fondo_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", fondo_r1._id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", fondo_r1.nombre, \" \");\n  }\n}\nfunction TransaccionesComponent_mat_option_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"titlecase\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const categoria_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", categoria_r2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 2, categoria_r2), \" \");\n  }\n}\nfunction TransaccionesComponent_div_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵelement(1, \"mat-spinner\", 24);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Cargando transacciones...\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"diameter\", 40);\n  }\n}\nfunction TransaccionesComponent_div_52_th_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 41);\n    i0.ɵɵtext(1, \" Fecha \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TransaccionesComponent_div_52_td_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 42);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const transaccion_r3 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, transaccion_r3.fecha, \"dd/MM/yyyy\"), \" \");\n  }\n}\nfunction TransaccionesComponent_div_52_th_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 41);\n    i0.ɵɵtext(1, \" Descripci\\u00F3n \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TransaccionesComponent_div_52_td_7_small_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const transaccion_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(transaccion_r4.notas);\n  }\n}\nfunction TransaccionesComponent_div_52_td_7_div_5_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 49);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const etiqueta_r5 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", etiqueta_r5, \" \");\n  }\n}\nfunction TransaccionesComponent_div_52_td_7_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 47);\n    i0.ɵɵtemplate(1, TransaccionesComponent_div_52_td_7_div_5_span_1_Template, 2, 1, \"span\", 48);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const transaccion_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", transaccion_r4.etiquetas);\n  }\n}\nfunction TransaccionesComponent_div_52_td_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 42)(1, \"div\", 43)(2, \"strong\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, TransaccionesComponent_div_52_td_7_small_4_Template, 2, 1, \"small\", 44)(5, TransaccionesComponent_div_52_td_7_div_5_Template, 2, 1, \"div\", 45);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const transaccion_r4 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(transaccion_r4.descripcion);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", transaccion_r4.notas);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", transaccion_r4.etiquetas && transaccion_r4.etiquetas.length > 0);\n  }\n}\nfunction TransaccionesComponent_div_52_th_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 50);\n    i0.ɵɵtext(1, \" Fondo \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TransaccionesComponent_div_52_td_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 42);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const transaccion_r6 = ctx.$implicit;\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r6.obtenerNombreFondo(transaccion_r6.fondoId), \" \");\n  }\n}\nfunction TransaccionesComponent_div_52_th_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 41);\n    i0.ɵɵtext(1, \" Categor\\u00EDa \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TransaccionesComponent_div_52_td_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 42)(1, \"span\", 51);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"titlecase\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const transaccion_r8 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", transaccion_r8.tipo === \"ingreso\" ? \"ingreso-chip\" : \"gasto-chip\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 2, transaccion_r8.categoria), \" \");\n  }\n}\nfunction TransaccionesComponent_div_52_th_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 41);\n    i0.ɵɵtext(1, \" Tipo \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TransaccionesComponent_div_52_td_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 42)(1, \"span\", 52)(2, \"mat-icon\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"titlecase\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const transaccion_r9 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", transaccion_r9.tipo === \"ingreso\" ? \"ingreso-chip\" : \"gasto-chip\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(transaccion_r9.tipo === \"ingreso\" ? \"trending_up\" : \"trending_down\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(5, 3, transaccion_r9.tipo), \" \");\n  }\n}\nfunction TransaccionesComponent_div_52_th_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 41);\n    i0.ɵɵtext(1, \" Monto \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TransaccionesComponent_div_52_td_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 53)(1, \"strong\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const transaccion_r10 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", transaccion_r10.tipo === \"ingreso\" ? \"ingreso-text\" : \"gasto-text\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate((transaccion_r10.tipo === \"ingreso\" ? \"+\" : \"-\") + i0.ɵɵpipeBind4(3, 2, transaccion_r10.monto, \"COP\", \"symbol\", \"1.0-0\"));\n  }\n}\nfunction TransaccionesComponent_div_52_th_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 50);\n    i0.ɵɵtext(1, \" Acciones \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TransaccionesComponent_div_52_td_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 42)(1, \"button\", 54);\n    i0.ɵɵlistener(\"click\", function TransaccionesComponent_div_52_td_22_Template_button_click_1_listener() {\n      const transaccion_r12 = i0.ɵɵrestoreView(_r11).$implicit;\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.editarTransaccion(transaccion_r12));\n    });\n    i0.ɵɵelementStart(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"edit\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"button\", 55);\n    i0.ɵɵlistener(\"click\", function TransaccionesComponent_div_52_td_22_Template_button_click_4_listener() {\n      const transaccion_r12 = i0.ɵɵrestoreView(_r11).$implicit;\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.eliminarTransaccion(transaccion_r12));\n    });\n    i0.ɵɵelementStart(5, \"mat-icon\");\n    i0.ɵɵtext(6, \"delete\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction TransaccionesComponent_div_52_tr_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 56);\n  }\n}\nfunction TransaccionesComponent_div_52_tr_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 57);\n  }\n  if (rf & 2) {\n    const row_r13 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(1, _c0, row_r13.tipo === \"ingreso\", row_r13.tipo === \"gasto\"));\n  }\n}\nfunction TransaccionesComponent_div_52_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 58)(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"info\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"h3\");\n    i0.ɵɵtext(4, \"No hay transacciones\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function TransaccionesComponent_div_52_div_25_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.abrirDialogoTransaccion());\n    });\n    i0.ɵɵelementStart(8, \"mat-icon\");\n    i0.ɵɵtext(9, \"add\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \" Nueva Transacci\\u00F3n \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r6.filtrosAplicados ? \"No se encontraron transacciones con los filtros aplicados\" : \"Crea tu primera transacci\\u00F3n para comenzar\");\n  }\n}\nfunction TransaccionesComponent_div_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25)(1, \"table\", 26);\n    i0.ɵɵelementContainerStart(2, 27);\n    i0.ɵɵtemplate(3, TransaccionesComponent_div_52_th_3_Template, 2, 0, \"th\", 28)(4, TransaccionesComponent_div_52_td_4_Template, 3, 4, \"td\", 29);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(5, 30);\n    i0.ɵɵtemplate(6, TransaccionesComponent_div_52_th_6_Template, 2, 0, \"th\", 28)(7, TransaccionesComponent_div_52_td_7_Template, 6, 3, \"td\", 29);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(8, 31);\n    i0.ɵɵtemplate(9, TransaccionesComponent_div_52_th_9_Template, 2, 0, \"th\", 32)(10, TransaccionesComponent_div_52_td_10_Template, 2, 1, \"td\", 29);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(11, 33);\n    i0.ɵɵtemplate(12, TransaccionesComponent_div_52_th_12_Template, 2, 0, \"th\", 28)(13, TransaccionesComponent_div_52_td_13_Template, 4, 4, \"td\", 29);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(14, 34);\n    i0.ɵɵtemplate(15, TransaccionesComponent_div_52_th_15_Template, 2, 0, \"th\", 28)(16, TransaccionesComponent_div_52_td_16_Template, 6, 5, \"td\", 29);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(17, 35);\n    i0.ɵɵtemplate(18, TransaccionesComponent_div_52_th_18_Template, 2, 0, \"th\", 28)(19, TransaccionesComponent_div_52_td_19_Template, 4, 7, \"td\", 36);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(20, 37);\n    i0.ɵɵtemplate(21, TransaccionesComponent_div_52_th_21_Template, 2, 0, \"th\", 32)(22, TransaccionesComponent_div_52_td_22_Template, 7, 0, \"td\", 29);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵtemplate(23, TransaccionesComponent_div_52_tr_23_Template, 1, 0, \"tr\", 38)(24, TransaccionesComponent_div_52_tr_24_Template, 1, 4, \"tr\", 39);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(25, TransaccionesComponent_div_52_div_25_Template, 11, 1, \"div\", 40);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"dataSource\", ctx_r6.dataSource);\n    i0.ɵɵadvance(22);\n    i0.ɵɵproperty(\"matHeaderRowDef\", ctx_r6.displayedColumns);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"matRowDefColumns\", ctx_r6.displayedColumns);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.dataSource.data.length === 0);\n  }\n}\nfunction TransaccionesComponent_mat_paginator_53_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-paginator\", 59);\n    i0.ɵɵlistener(\"page\", function TransaccionesComponent_mat_paginator_53_Template_mat_paginator_page_0_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.onPageChange($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"pageSizeOptions\", i0.ɵɵpureFunction0(4, _c1))(\"pageSize\", ctx_r6.pageSize)(\"length\", ctx_r6.totalTransacciones)(\"showFirstLastButtons\", true);\n  }\n}\nexport class TransaccionesComponent {\n  constructor(fb, transaccionService, fondoService, dialog, notificationService) {\n    this.fb = fb;\n    this.transaccionService = transaccionService;\n    this.fondoService = fondoService;\n    this.dialog = dialog;\n    this.notificationService = notificationService;\n    this.destroy$ = new Subject();\n    this.displayedColumns = ['fecha', 'descripcion', 'fondo', 'categoria', 'tipo', 'monto', 'acciones'];\n    this.dataSource = new MatTableDataSource();\n    this.fondos = [];\n    this.categorias = [];\n    this.transacciones = [];\n    this.totalTransacciones = 0;\n    this.currentPage = 1;\n    this.pageSize = 10;\n    this.loading = false;\n    this.filtrosAplicados = false;\n    // Estadísticas\n    this.totalIngresos = 0;\n    this.totalGastos = 0;\n    this.balance = 0;\n    this.filtrosForm = this.fb.group({\n      busqueda: [''],\n      fondoId: [''],\n      tipo: [''],\n      categoria: ['']\n    });\n  }\n  ngOnInit() {\n    this.cargarDatosIniciales();\n    this.cargarTransacciones();\n    this.configurarFiltrosBusqueda();\n  }\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n  ngAfterViewInit() {\n    this.dataSource.paginator = this.paginator;\n    this.dataSource.sort = this.sort;\n  }\n  configurarFiltrosBusqueda() {\n    // Auto-filtrado en tiempo real para búsqueda\n    this.filtrosForm.get('busqueda')?.valueChanges.pipe(debounceTime(300), distinctUntilChanged(), takeUntil(this.destroy$)).subscribe(() => {\n      this.aplicarFiltros();\n    });\n  }\n  cargarDatosIniciales() {\n    // Cargar fondos\n    this.fondoService.obtenerFondos().pipe(takeUntil(this.destroy$)).subscribe({\n      next: fondos => this.fondos = fondos,\n      error: error => {\n        console.error('Error al cargar fondos:', error);\n        this.notificationService.error('Error al cargar fondos');\n      }\n    });\n    // Cargar categorías\n    this.categorias = this.transaccionService.obtenerCategorias();\n  }\n  cargarTransacciones() {\n    this.loading = true;\n    const filtros = this.construirFiltros();\n    this.transaccionService.obtenerTransacciones(filtros).pipe(takeUntil(this.destroy$)).subscribe({\n      next: response => {\n        this.transacciones = response.transacciones;\n        this.totalTransacciones = response.total;\n        this.dataSource.data = this.transacciones;\n        this.calcularEstadisticas();\n        this.loading = false;\n      },\n      error: error => {\n        console.error('Error al cargar transacciones:', error);\n        this.notificationService.error('Error al cargar transacciones');\n        this.loading = false;\n      }\n    });\n  }\n  construirFiltros() {\n    const formValues = this.filtrosForm.value;\n    const filtros = {\n      page: this.currentPage,\n      limit: this.pageSize\n    };\n    // Solo agregar filtros que tengan valor\n    if (formValues.busqueda) filtros.busqueda = formValues.busqueda;\n    if (formValues.fondoId) filtros.fondoId = formValues.fondoId;\n    if (formValues.tipo) filtros.tipo = formValues.tipo;\n    if (formValues.categoria) filtros.categoria = formValues.categoria;\n    this.filtrosAplicados = Object.keys(filtros).length > 2; // más que page y limit\n    return filtros;\n  }\n  calcularEstadisticas() {\n    this.totalIngresos = this.transacciones.filter(t => t.tipo === 'ingreso').reduce((sum, t) => sum + t.monto, 0);\n    this.totalGastos = this.transacciones.filter(t => t.tipo === 'gasto').reduce((sum, t) => sum + t.monto, 0);\n    this.balance = this.totalIngresos - this.totalGastos;\n  }\n  aplicarFiltros() {\n    this.currentPage = 1;\n    this.cargarTransacciones();\n  }\n  limpiarFiltros() {\n    this.filtrosForm.reset();\n    this.currentPage = 1;\n    this.cargarTransacciones();\n  }\n  onPageChange(event) {\n    this.currentPage = event.pageIndex + 1;\n    this.pageSize = event.pageSize;\n    this.cargarTransacciones();\n  }\n  abrirDialogoTransaccion(transaccion) {\n    const dialogRef = this.dialog.open(TransaccionDialogComponent, {\n      width: '600px',\n      maxWidth: '90vw',\n      data: {\n        transaccion,\n        fondos: this.fondos,\n        categorias: this.categorias\n      }\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result && result.action === 'save') {\n        if (transaccion) {\n          this.actualizarTransaccion(transaccion._id, result.data);\n        } else {\n          this.crearTransaccion(result.data);\n        }\n      }\n    });\n  }\n  crearTransaccion(data) {\n    this.transaccionService.crearTransaccion(data).pipe(takeUntil(this.destroy$)).subscribe({\n      next: () => {\n        this.notificationService.success('Transacción creada correctamente');\n        this.cargarTransacciones();\n      },\n      error: error => {\n        console.error('Error al crear transacción:', error);\n        this.notificationService.error('Error al crear la transacción');\n      }\n    });\n  }\n  actualizarTransaccion(id, data) {\n    this.transaccionService.actualizarTransaccion(id, data).pipe(takeUntil(this.destroy$)).subscribe({\n      next: () => {\n        this.notificationService.success('Transacción actualizada correctamente');\n        this.cargarTransacciones();\n      },\n      error: error => {\n        console.error('Error al actualizar transacción:', error);\n        this.notificationService.error('Error al actualizar la transacción');\n      }\n    });\n  }\n  editarTransaccion(transaccion) {\n    this.abrirDialogoTransaccion(transaccion);\n  }\n  eliminarTransaccion(transaccion) {\n    if (confirm(`¿Estás seguro de que deseas eliminar la transacción \"${transaccion.descripcion}\"?`)) {\n      this.transaccionService.eliminarTransaccion(transaccion._id).pipe(takeUntil(this.destroy$)).subscribe({\n        next: () => {\n          this.notificationService.success('Transacción eliminada correctamente');\n          this.cargarTransacciones();\n        },\n        error: error => {\n          console.error('Error al eliminar transacción:', error);\n          this.notificationService.error('Error al eliminar la transacción');\n        }\n      });\n    }\n  }\n  obtenerNombreFondo(fondoId) {\n    const fondo = this.fondos.find(f => f._id === fondoId);\n    return fondo ? fondo.nombre : 'Fondo no encontrado';\n  }\n  static {\n    this.ɵfac = function TransaccionesComponent_Factory(t) {\n      return new (t || TransaccionesComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.TransaccionService), i0.ɵɵdirectiveInject(i3.FondoService), i0.ɵɵdirectiveInject(i4.MatDialog), i0.ɵɵdirectiveInject(i5.NotificationService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: TransaccionesComponent,\n      selectors: [[\"app-transacciones\"]],\n      viewQuery: function TransaccionesComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(MatPaginator, 5);\n          i0.ɵɵviewQuery(MatSort, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sort = _t.first);\n        }\n      },\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 54,\n      vars: 6,\n      consts: [[1, \"transacciones-container\"], [1, \"filtros-card\", \"mb-2\"], [1, \"spacer\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\"], [1, \"filtros-form\", 3, \"formGroup\"], [\"appearance\", \"outline\"], [\"formControlName\", \"fondoId\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"formControlName\", \"tipo\"], [\"value\", \"ingreso\"], [1, \"option-icon\", \"ingreso\"], [\"value\", \"gasto\"], [1, \"option-icon\", \"gasto\"], [\"formControlName\", \"categoria\"], [1, \"filter-actions\"], [\"mat-raised-button\", \"\", \"color\", \"accent\", 3, \"click\"], [\"mat-button\", \"\", 3, \"click\"], [1, \"tabla-card\"], [\"class\", \"loading-container\", 4, \"ngIf\"], [\"class\", \"table-container\", 4, \"ngIf\"], [\"aria-label\", \"Seleccionar p\\u00E1gina de transacciones\", 3, \"pageSizeOptions\", \"pageSize\", \"length\", \"showFirstLastButtons\", \"page\", 4, \"ngIf\"], [3, \"value\"], [1, \"loading-container\"], [3, \"diameter\"], [1, \"table-container\"], [\"mat-table\", \"\", \"matSort\", \"\", 1, \"full-width\", 3, \"dataSource\"], [\"matColumnDef\", \"fecha\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"descripcion\"], [\"matColumnDef\", \"fondo\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"matColumnDef\", \"categoria\"], [\"matColumnDef\", \"tipo\"], [\"matColumnDef\", \"monto\"], [\"mat-cell\", \"\", 3, \"ngClass\", 4, \"matCellDef\"], [\"matColumnDef\", \"acciones\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 3, \"ngClass\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"class\", \"no-data\", 4, \"ngIf\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\"], [\"mat-cell\", \"\"], [1, \"descripcion-cell\"], [\"class\", \"notas\", 4, \"ngIf\"], [\"class\", \"etiquetas\", 4, \"ngIf\"], [1, \"notas\"], [1, \"etiquetas\"], [\"class\", \"etiqueta-chip\", 4, \"ngFor\", \"ngForOf\"], [1, \"etiqueta-chip\"], [\"mat-header-cell\", \"\"], [1, \"categoria-chip\", 3, \"ngClass\"], [1, \"tipo-chip\", 3, \"ngClass\"], [\"mat-cell\", \"\", 3, \"ngClass\"], [\"mat-icon-button\", \"\", \"color\", \"primary\", \"matTooltip\", \"Editar transacci\\u00F3n\", 3, \"click\"], [\"mat-icon-button\", \"\", \"color\", \"warn\", \"matTooltip\", \"Eliminar transacci\\u00F3n\", 3, \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\", 3, \"ngClass\"], [1, \"no-data\"], [\"aria-label\", \"Seleccionar p\\u00E1gina de transacciones\", 3, \"page\", \"pageSizeOptions\", \"pageSize\", \"length\", \"showFirstLastButtons\"]],\n      template: function TransaccionesComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"mat-card\", 1)(2, \"mat-card-header\")(3, \"mat-card-title\");\n          i0.ɵɵtext(4, \"Transacciones\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(5, \"div\", 2);\n          i0.ɵɵelementStart(6, \"button\", 3);\n          i0.ɵɵlistener(\"click\", function TransaccionesComponent_Template_button_click_6_listener() {\n            return ctx.abrirDialogoTransaccion();\n          });\n          i0.ɵɵelementStart(7, \"mat-icon\");\n          i0.ɵɵtext(8, \"add\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(9, \" Nueva Transacci\\u00F3n \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(10, \"mat-card-content\")(11, \"form\", 4)(12, \"mat-form-field\", 5)(13, \"mat-label\");\n          i0.ɵɵtext(14, \"Fondo\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"mat-select\", 6)(16, \"mat-option\", 7);\n          i0.ɵɵtext(17, \"Todos los fondos\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(18, TransaccionesComponent_mat_option_18_Template, 2, 2, \"mat-option\", 8);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(19, \"mat-form-field\", 5)(20, \"mat-label\");\n          i0.ɵɵtext(21, \"Tipo\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"mat-select\", 9)(23, \"mat-option\", 7);\n          i0.ɵɵtext(24, \"Todos\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"mat-option\", 10)(26, \"mat-icon\", 11);\n          i0.ɵɵtext(27, \"trending_up\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(28, \" Ingreso \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(29, \"mat-option\", 12)(30, \"mat-icon\", 13);\n          i0.ɵɵtext(31, \"trending_down\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(32, \" Gasto \");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(33, \"mat-form-field\", 5)(34, \"mat-label\");\n          i0.ɵɵtext(35, \"Categor\\u00EDa\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(36, \"mat-select\", 14)(37, \"mat-option\", 7);\n          i0.ɵɵtext(38, \"Todas\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(39, TransaccionesComponent_mat_option_39_Template, 3, 4, \"mat-option\", 8);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(40, \"div\", 15)(41, \"button\", 16);\n          i0.ɵɵlistener(\"click\", function TransaccionesComponent_Template_button_click_41_listener() {\n            return ctx.aplicarFiltros();\n          });\n          i0.ɵɵelementStart(42, \"mat-icon\");\n          i0.ɵɵtext(43, \"filter_list\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(44, \" Filtrar \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(45, \"button\", 17);\n          i0.ɵɵlistener(\"click\", function TransaccionesComponent_Template_button_click_45_listener() {\n            return ctx.limpiarFiltros();\n          });\n          i0.ɵɵelementStart(46, \"mat-icon\");\n          i0.ɵɵtext(47, \"clear\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(48, \" Limpiar \");\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵelementStart(49, \"mat-card\", 18)(50, \"mat-card-content\");\n          i0.ɵɵtemplate(51, TransaccionesComponent_div_51_Template, 4, 1, \"div\", 19)(52, TransaccionesComponent_div_52_Template, 26, 4, \"div\", 20)(53, TransaccionesComponent_mat_paginator_53_Template, 1, 5, \"mat-paginator\", 21);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(11);\n          i0.ɵɵproperty(\"formGroup\", ctx.filtrosForm);\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngForOf\", ctx.fondos);\n          i0.ɵɵadvance(21);\n          i0.ɵɵproperty(\"ngForOf\", ctx.categorias);\n          i0.ɵɵadvance(12);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.dataSource.data.length > 0);\n        }\n      },\n      dependencies: [CommonModule, i6.NgClass, i6.NgForOf, i6.NgIf, i6.TitleCasePipe, i6.CurrencyPipe, i6.DatePipe, FormsModule, i1.ɵNgNoValidate, i1.NgControlStatus, i1.NgControlStatusGroup, ReactiveFormsModule, i1.FormGroupDirective, i1.FormControlName, MatTableModule, i7.MatTable, i7.MatHeaderCellDef, i7.MatHeaderRowDef, i7.MatColumnDef, i7.MatCellDef, i7.MatRowDef, i7.MatHeaderCell, i7.MatCell, i7.MatHeaderRow, i7.MatRow, MatPaginatorModule, i8.MatPaginator, MatSortModule, i9.MatSort, i9.MatSortHeader, MatCardModule, i10.MatCard, i10.MatCardContent, i10.MatCardHeader, i10.MatCardTitle, MatButtonModule, i11.MatButton, i11.MatIconButton, MatIconModule, i12.MatIcon, MatFormFieldModule, i13.MatFormField, i13.MatLabel, MatInputModule, MatSelectModule, i14.MatSelect, i15.MatOption, MatDatepickerModule, MatNativeDateModule, MatDialogModule, MatSnackBarModule, MatChipsModule],\n      styles: [\".transacciones-container[_ngcontent-%COMP%] {\\n  max-width: 1200px;\\n  margin: 0 auto;\\n  padding: 20px;\\n}\\n\\n.filtros-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.filtros-form[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 16px;\\n  align-items: center;\\n  flex-wrap: wrap;\\n  margin-top: 16px;\\n}\\n\\n.filtros-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%] {\\n  min-width: 150px;\\n}\\n\\n.table-container[_ngcontent-%COMP%] {\\n  overflow-x: auto;\\n}\\n\\n.categoria-chip[_ngcontent-%COMP%], .tipo-chip[_ngcontent-%COMP%] {\\n  padding: 4px 8px;\\n  border-radius: 12px;\\n  font-size: 0.75em;\\n  font-weight: 500;\\n}\\n\\n.ingreso-chip[_ngcontent-%COMP%] {\\n  background-color: #4caf50;\\n  color: white;\\n}\\n\\n.gasto-chip[_ngcontent-%COMP%] {\\n  background-color: #f44336;\\n  color: white;\\n}\\n\\n.ingreso-text[_ngcontent-%COMP%] {\\n  color: #4caf50;\\n  font-weight: 500;\\n}\\n\\n.gasto-text[_ngcontent-%COMP%] {\\n  color: #f44336;\\n  font-weight: 500;\\n}\\n\\n@media (max-width: 768px) {\\n  .transacciones-container[_ngcontent-%COMP%] {\\n    padding: 16px;\\n  }\\n  .filtros-form[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n    align-items: stretch;\\n  }\\n  .filtros-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%] {\\n    min-width: auto;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZXMvdHJhbnNhY2Npb25lcy90cmFuc2FjY2lvbmVzLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDSTtFQUNFLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLGFBQUE7QUFBTjs7QUFHSTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtBQUFOOztBQUdJO0VBQ0UsYUFBQTtFQUNBLFNBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtBQUFOOztBQUdJO0VBQ0UsZ0JBQUE7QUFBTjs7QUFHSTtFQUNFLGdCQUFBO0FBQU47O0FBR0k7O0VBRUUsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLGlCQUFBO0VBQ0EsZ0JBQUE7QUFBTjs7QUFHSTtFQUNFLHlCQUFBO0VBQ0EsWUFBQTtBQUFOOztBQUdJO0VBQ0UseUJBQUE7RUFDQSxZQUFBO0FBQU47O0FBR0k7RUFDRSxjQUFBO0VBQ0EsZ0JBQUE7QUFBTjs7QUFHSTtFQUNFLGNBQUE7RUFDQSxnQkFBQTtBQUFOOztBQUdJO0VBQ0U7SUFDRSxhQUFBO0VBQU47RUFHSTtJQUNFLHNCQUFBO0lBQ0Esb0JBQUE7RUFETjtFQUlJO0lBQ0UsZUFBQTtFQUZOO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgICAudHJhbnNhY2Npb25lcy1jb250YWluZXIge1xuICAgICAgbWF4LXdpZHRoOiAxMjAwcHg7XG4gICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgfVxuXG4gICAgLmZpbHRyb3MtY2FyZCBtYXQtY2FyZC1oZWFkZXIge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgfVxuXG4gICAgLmZpbHRyb3MtZm9ybSB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZ2FwOiAxNnB4O1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICAgIG1hcmdpbi10b3A6IDE2cHg7XG4gICAgfVxuXG4gICAgLmZpbHRyb3MtZm9ybSBtYXQtZm9ybS1maWVsZCB7XG4gICAgICBtaW4td2lkdGg6IDE1MHB4O1xuICAgIH1cblxuICAgIC50YWJsZS1jb250YWluZXIge1xuICAgICAgb3ZlcmZsb3cteDogYXV0bztcbiAgICB9XG5cbiAgICAuY2F0ZWdvcmlhLWNoaXAsXG4gICAgLnRpcG8tY2hpcCB7XG4gICAgICBwYWRkaW5nOiA0cHggOHB4O1xuICAgICAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgICAgIGZvbnQtc2l6ZTogMC43NWVtO1xuICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICB9XG5cbiAgICAuaW5ncmVzby1jaGlwIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICM0Y2FmNTA7XG4gICAgICBjb2xvcjogd2hpdGU7XG4gICAgfVxuXG4gICAgLmdhc3RvLWNoaXAge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y0NDMzNjtcbiAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICB9XG5cbiAgICAuaW5ncmVzby10ZXh0IHtcbiAgICAgIGNvbG9yOiAjNGNhZjUwO1xuICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICB9XG5cbiAgICAuZ2FzdG8tdGV4dCB7XG4gICAgICBjb2xvcjogI2Y0NDMzNjtcbiAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgfVxuXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gICAgICAudHJhbnNhY2Npb25lcy1jb250YWluZXIge1xuICAgICAgICBwYWRkaW5nOiAxNnB4O1xuICAgICAgfVxuXG4gICAgICAuZmlsdHJvcy1mb3JtIHtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgYWxpZ24taXRlbXM6IHN0cmV0Y2g7XG4gICAgICB9XG5cbiAgICAgIC5maWx0cm9zLWZvcm0gbWF0LWZvcm0tZmllbGQge1xuICAgICAgICBtaW4td2lkdGg6IGF1dG87XG4gICAgICB9XG4gICAgfVxuICAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","FormsModule","ReactiveFormsModule","MatTableModule","MatTableDataSource","MatPaginatorModule","MatPaginator","MatSortModule","MatSort","MatCardModule","MatButtonModule","MatIconModule","MatFormFieldModule","MatInputModule","MatSelectModule","MatDatepickerModule","MatNativeDateModule","MatDialogModule","MatSnackBarModule","MatChipsModule","Subject","debounceTime","distinctUntilChanged","takeUntil","TransaccionDialogComponent","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","fondo_r1","_id","ɵɵadvance","ɵɵtextInterpolate1","nombre","categoria_r2","ɵɵpipeBind1","ɵɵelement","ɵɵpipeBind2","transaccion_r3","fecha","ɵɵtextInterpolate","transaccion_r4","notas","etiqueta_r5","ɵɵtemplate","TransaccionesComponent_div_52_td_7_div_5_span_1_Template","etiquetas","TransaccionesComponent_div_52_td_7_small_4_Template","TransaccionesComponent_div_52_td_7_div_5_Template","descripcion","length","ctx_r6","obtenerNombreFondo","transaccion_r6","fondoId","transaccion_r8","tipo","categoria","transaccion_r9","transaccion_r10","ɵɵpipeBind4","monto","ɵɵlistener","TransaccionesComponent_div_52_td_22_Template_button_click_1_listener","transaccion_r12","ɵɵrestoreView","_r11","$implicit","ɵɵnextContext","ɵɵresetView","editarTransaccion","TransaccionesComponent_div_52_td_22_Template_button_click_4_listener","eliminarTransaccion","ɵɵpureFunction2","_c0","row_r13","TransaccionesComponent_div_52_div_25_Template_button_click_7_listener","_r14","abrirDialogoTransaccion","filtrosAplicados","ɵɵelementContainerStart","TransaccionesComponent_div_52_th_3_Template","TransaccionesComponent_div_52_td_4_Template","TransaccionesComponent_div_52_th_6_Template","TransaccionesComponent_div_52_td_7_Template","TransaccionesComponent_div_52_th_9_Template","TransaccionesComponent_div_52_td_10_Template","TransaccionesComponent_div_52_th_12_Template","TransaccionesComponent_div_52_td_13_Template","TransaccionesComponent_div_52_th_15_Template","TransaccionesComponent_div_52_td_16_Template","TransaccionesComponent_div_52_th_18_Template","TransaccionesComponent_div_52_td_19_Template","TransaccionesComponent_div_52_th_21_Template","TransaccionesComponent_div_52_td_22_Template","TransaccionesComponent_div_52_tr_23_Template","TransaccionesComponent_div_52_tr_24_Template","TransaccionesComponent_div_52_div_25_Template","dataSource","displayedColumns","data","TransaccionesComponent_mat_paginator_53_Template_mat_paginator_page_0_listener","$event","_r15","onPageChange","ɵɵpureFunction0","_c1","pageSize","totalTransacciones","TransaccionesComponent","constructor","fb","transaccionService","fondoService","dialog","notificationService","destroy$","fondos","categorias","transacciones","currentPage","loading","totalIngresos","totalGastos","balance","filtrosForm","group","busqueda","ngOnInit","cargarDatosIniciales","cargarTransacciones","configurarFiltrosBusqueda","ngOnDestroy","next","complete","ngAfterViewInit","paginator","sort","get","valueChanges","pipe","subscribe","aplicarFiltros","obtenerFondos","error","console","obtenerCategorias","filtros","construirFiltros","obtenerTransacciones","response","total","calcularEstadisticas","formValues","value","page","limit","Object","keys","filter","t","reduce","sum","limpiarFiltros","reset","event","pageIndex","transaccion","dialogRef","open","width","maxWidth","afterClosed","result","action","actualizarTransaccion","crearTransaccion","success","id","confirm","fondo","find","f","ɵɵdirectiveInject","i1","FormBuilder","i2","TransaccionService","i3","FondoService","i4","MatDialog","i5","NotificationService","selectors","viewQuery","TransaccionesComponent_Query","rf","ctx","TransaccionesComponent_Template_button_click_6_listener","TransaccionesComponent_mat_option_18_Template","TransaccionesComponent_mat_option_39_Template","TransaccionesComponent_Template_button_click_41_listener","TransaccionesComponent_Template_button_click_45_listener","TransaccionesComponent_div_51_Template","TransaccionesComponent_div_52_Template","TransaccionesComponent_mat_paginator_53_Template","i6","NgClass","NgForOf","NgIf","TitleCasePipe","CurrencyPipe","DatePipe","ɵNgNoValidate","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","i7","MatTable","MatHeaderCellDef","MatHeaderRowDef","MatColumnDef","MatCellDef","MatRowDef","MatHeaderCell","MatCell","MatHeaderRow","MatRow","i8","i9","MatSortHeader","i10","MatCard","MatCardContent","MatCardHeader","MatCardTitle","i11","MatButton","MatIconButton","i12","MatIcon","i13","MatFormField","MatLabel","i14","MatSelect","i15","MatOption","styles"],"sources":["C:\\Users\\alext\\ControlFinanciero\\frontend\\src\\app\\features\\transacciones\\transacciones.component.ts"],"sourcesContent":["import { Component, OnInit, OnDestroy, ViewChild, AfterViewInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule, FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { MatTableModule, MatTableDataSource } from '@angular/material/table';\nimport { MatPaginatorModule, MatPaginator } from '@angular/material/paginator';\nimport { MatSortModule, MatSort } from '@angular/material/sort';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport { MatNativeDateModule } from '@angular/material/core';\nimport { MatDialogModule, MatDialog } from '@angular/material/dialog';\nimport { MatSnackBarModule, MatSnackBar } from '@angular/material/snack-bar';\nimport { MatChipsModule } from '@angular/material/chips';\nimport { Subject } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, takeUntil } from 'rxjs/operators';\n\nimport { TransaccionService } from '../../core/services/transaccion.service';\nimport { FiltroTransacciones } from '../../core/models/transaccion.model';\nimport { FondoService } from '../../core/services/fondo.service';\nimport { NotificationService } from '../../core/services/notification.service';\nimport { Transaccion, TipoTransaccion, CategoriaTransaccion } from '../../core/models/transaccion.model';\nimport { Fondo } from '../../core/models/fondo.model';\nimport { TransaccionDialogComponent } from './transaccion-dialog.component';\n\n@Component({\n  selector: 'app-transacciones',\n  standalone: true,\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    MatTableModule,\n    MatPaginatorModule,\n    MatSortModule,\n    MatCardModule,\n    MatButtonModule,\n    MatIconModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatSelectModule,\n    MatDatepickerModule,\n    MatNativeDateModule,\n    MatDialogModule,\n    MatSnackBarModule,\n    MatChipsModule\n  ],\n  template: `\n    <div class=\"transacciones-container\">\n      <!-- Filtros y acciones -->\n      <mat-card class=\"filtros-card mb-2\">\n        <mat-card-header>\n          <mat-card-title>Transacciones</mat-card-title>\n          <div class=\"spacer\"></div>\n          <button mat-raised-button color=\"primary\" (click)=\"abrirDialogoTransaccion()\">\n            <mat-icon>add</mat-icon>\n            Nueva Transacción\n          </button>\n        </mat-card-header>\n        <mat-card-content>\n          <form [formGroup]=\"filtrosForm\" class=\"filtros-form\">\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Fondo</mat-label>\n              <mat-select formControlName=\"fondoId\">\n                <mat-option value=\"\">Todos los fondos</mat-option>\n                <mat-option *ngFor=\"let fondo of fondos\" [value]=\"fondo._id\">\n                  {{ fondo.nombre }}\n                </mat-option>\n              </mat-select>\n            </mat-form-field>\n\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Tipo</mat-label>\n              <mat-select formControlName=\"tipo\">\n                <mat-option value=\"\">Todos</mat-option>\n                <mat-option value=\"ingreso\">\n                  <mat-icon class=\"option-icon ingreso\">trending_up</mat-icon>\n                  Ingreso\n                </mat-option>\n                <mat-option value=\"gasto\">\n                  <mat-icon class=\"option-icon gasto\">trending_down</mat-icon>\n                  Gasto\n                </mat-option>\n              </mat-select>\n            </mat-form-field>\n\n            <mat-form-field appearance=\"outline\">\n              <mat-label>Categoría</mat-label>\n              <mat-select formControlName=\"categoria\">\n                <mat-option value=\"\">Todas</mat-option>\n                <mat-option *ngFor=\"let categoria of categorias\" [value]=\"categoria\">\n                  {{ categoria | titlecase }}\n                </mat-option>\n              </mat-select>\n            </mat-form-field>\n\n            <div class=\"filter-actions\">\n              <button mat-raised-button color=\"accent\" (click)=\"aplicarFiltros()\">\n                <mat-icon>filter_list</mat-icon>\n                Filtrar\n              </button>\n              <button mat-button (click)=\"limpiarFiltros()\">\n                <mat-icon>clear</mat-icon>\n                Limpiar\n              </button>\n            </div>\n          </form>\n        </mat-card-content>\n      </mat-card>\n\n      <!-- Tabla de transacciones -->\n      <mat-card class=\"tabla-card\">\n        <mat-card-content>\n          <!-- Loading spinner -->\n          <div *ngIf=\"loading\" class=\"loading-container\">\n            <mat-spinner [diameter]=\"40\"></mat-spinner>\n            <p>Cargando transacciones...</p>\n          </div>\n\n          <!-- Tabla -->\n          <div *ngIf=\"!loading\" class=\"table-container\">\n            <table mat-table [dataSource]=\"dataSource\" matSort class=\"full-width\">\n              \n              <ng-container matColumnDef=\"fecha\">\n                <th mat-header-cell *matHeaderCellDef mat-sort-header> Fecha </th>\n                <td mat-cell *matCellDef=\"let transaccion\"> \n                  {{ transaccion.fecha | date:'dd/MM/yyyy' }} \n                </td>\n              </ng-container>\n\n              <ng-container matColumnDef=\"descripcion\">\n                <th mat-header-cell *matHeaderCellDef mat-sort-header> Descripción </th>\n                <td mat-cell *matCellDef=\"let transaccion\"> \n                  <div class=\"descripcion-cell\">\n                    <strong>{{ transaccion.descripcion }}</strong>\n                    <small *ngIf=\"transaccion.notas\" class=\"notas\">{{ transaccion.notas }}</small>\n                    <div *ngIf=\"transaccion.etiquetas && transaccion.etiquetas.length > 0\" class=\"etiquetas\">\n                      <span *ngFor=\"let etiqueta of transaccion.etiquetas\" class=\"etiqueta-chip\">\n                        {{ etiqueta }}\n                      </span>\n                    </div>\n                  </div>\n                </td>\n              </ng-container>\n\n              <ng-container matColumnDef=\"fondo\">\n                <th mat-header-cell *matHeaderCellDef> Fondo </th>\n                <td mat-cell *matCellDef=\"let transaccion\"> \n                  {{ obtenerNombreFondo(transaccion.fondoId) }} \n                </td>\n              </ng-container>\n\n              <ng-container matColumnDef=\"categoria\">\n                <th mat-header-cell *matHeaderCellDef mat-sort-header> Categoría </th>\n                <td mat-cell *matCellDef=\"let transaccion\"> \n                  <span class=\"categoria-chip\" \n                        [ngClass]=\"transaccion.tipo === 'ingreso' ? 'ingreso-chip' : 'gasto-chip'\">\n                    {{ transaccion.categoria | titlecase }}\n                  </span>\n                </td>\n              </ng-container>\n\n              <ng-container matColumnDef=\"tipo\">\n                <th mat-header-cell *matHeaderCellDef mat-sort-header> Tipo </th>\n                <td mat-cell *matCellDef=\"let transaccion\"> \n                  <span class=\"tipo-chip\" \n                        [ngClass]=\"transaccion.tipo === 'ingreso' ? 'ingreso-chip' : 'gasto-chip'\">\n                    <mat-icon>{{ transaccion.tipo === 'ingreso' ? 'trending_up' : 'trending_down' }}</mat-icon>\n                    {{ transaccion.tipo | titlecase }}\n                  </span>\n                </td>\n              </ng-container>\n\n              <ng-container matColumnDef=\"monto\">\n                <th mat-header-cell *matHeaderCellDef mat-sort-header> Monto </th>\n                <td mat-cell *matCellDef=\"let transaccion\" \n                    [ngClass]=\"transaccion.tipo === 'ingreso' ? 'ingreso-text' : 'gasto-text'\"> \n                  <strong>{{ (transaccion.tipo === 'ingreso' ? '+' : '-') + (transaccion.monto | currency:'COP':'symbol':'1.0-0') }}</strong>\n                </td>\n              </ng-container>\n\n              <ng-container matColumnDef=\"acciones\">\n                <th mat-header-cell *matHeaderCellDef> Acciones </th>\n                <td mat-cell *matCellDef=\"let transaccion\">\n                  <button mat-icon-button color=\"primary\" \n                          (click)=\"editarTransaccion(transaccion)\"\n                          matTooltip=\"Editar transacción\">\n                    <mat-icon>edit</mat-icon>\n                  </button>\n                  <button mat-icon-button color=\"warn\" \n                          (click)=\"eliminarTransaccion(transaccion)\"\n                          matTooltip=\"Eliminar transacción\">\n                    <mat-icon>delete</mat-icon>\n                  </button>\n                </td>\n              </ng-container>\n\n              <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n              <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\" \n                  [ngClass]=\"{'ingreso-row': row.tipo === 'ingreso', 'gasto-row': row.tipo === 'gasto'}\"></tr>\n            </table>\n\n            <!-- Mensaje cuando no hay datos -->\n            <div *ngIf=\"dataSource.data.length === 0\" class=\"no-data\">\n              <mat-icon>info</mat-icon>\n              <h3>No hay transacciones</h3>\n              <p>{{ filtrosAplicados ? 'No se encontraron transacciones con los filtros aplicados' : 'Crea tu primera transacción para comenzar' }}</p>\n              <button mat-raised-button color=\"primary\" (click)=\"abrirDialogoTransaccion()\">\n                <mat-icon>add</mat-icon>\n                Nueva Transacción\n              </button>\n            </div>\n          </div>\n\n          <!-- Paginador -->\n          <mat-paginator \n            *ngIf=\"!loading && dataSource.data.length > 0\"\n            [pageSizeOptions]=\"[10, 25, 50, 100]\" \n            [pageSize]=\"pageSize\"\n            [length]=\"totalTransacciones\"\n            [showFirstLastButtons]=\"true\"\n            (page)=\"onPageChange($event)\"\n            aria-label=\"Seleccionar página de transacciones\">\n          </mat-paginator>\n        </mat-card-content>\n      </mat-card>\n    </div>\n  `,\n  styles: [`\n    .transacciones-container {\n      max-width: 1200px;\n      margin: 0 auto;\n      padding: 20px;\n    }\n\n    .filtros-card mat-card-header {\n      display: flex;\n      align-items: center;\n    }\n\n    .filtros-form {\n      display: flex;\n      gap: 16px;\n      align-items: center;\n      flex-wrap: wrap;\n      margin-top: 16px;\n    }\n\n    .filtros-form mat-form-field {\n      min-width: 150px;\n    }\n\n    .table-container {\n      overflow-x: auto;\n    }\n\n    .categoria-chip,\n    .tipo-chip {\n      padding: 4px 8px;\n      border-radius: 12px;\n      font-size: 0.75em;\n      font-weight: 500;\n    }\n\n    .ingreso-chip {\n      background-color: #4caf50;\n      color: white;\n    }\n\n    .gasto-chip {\n      background-color: #f44336;\n      color: white;\n    }\n\n    .ingreso-text {\n      color: #4caf50;\n      font-weight: 500;\n    }\n\n    .gasto-text {\n      color: #f44336;\n      font-weight: 500;\n    }\n\n    @media (max-width: 768px) {\n      .transacciones-container {\n        padding: 16px;\n      }\n\n      .filtros-form {\n        flex-direction: column;\n        align-items: stretch;\n      }\n\n      .filtros-form mat-form-field {\n        min-width: auto;\n      }\n    }\n  `]\n})\nexport class TransaccionesComponent implements OnInit, OnDestroy, AfterViewInit {\n  @ViewChild(MatPaginator) paginator!: MatPaginator;\n  @ViewChild(MatSort) sort!: MatSort;\n\n  private destroy$ = new Subject<void>();\n  \n  displayedColumns: string[] = ['fecha', 'descripcion', 'fondo', 'categoria', 'tipo', 'monto', 'acciones'];\n  dataSource = new MatTableDataSource<Transaccion>();\n  filtrosForm: FormGroup;\n  \n  fondos: Fondo[] = [];\n  categorias: CategoriaTransaccion[] = [];\n  transacciones: Transaccion[] = [];\n  totalTransacciones = 0;\n  currentPage = 1;\n  pageSize = 10;\n  loading = false;\n  filtrosAplicados = false;\n\n  // Estadísticas\n  totalIngresos = 0;\n  totalGastos = 0;\n  balance = 0;\n\n  constructor(\n    private fb: FormBuilder,\n    private transaccionService: TransaccionService,\n    private fondoService: FondoService,\n    private dialog: MatDialog,\n    private notificationService: NotificationService\n  ) {\n    this.filtrosForm = this.fb.group({\n      busqueda: [''],\n      fondoId: [''],\n      tipo: [''],\n      categoria: ['']\n    });\n  }\n\n  ngOnInit(): void {\n    this.cargarDatosIniciales();\n    this.cargarTransacciones();\n    this.configurarFiltrosBusqueda();\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  ngAfterViewInit(): void {\n    this.dataSource.paginator = this.paginator;\n    this.dataSource.sort = this.sort;\n  }\n\n  configurarFiltrosBusqueda(): void {\n    // Auto-filtrado en tiempo real para búsqueda\n    this.filtrosForm.get('busqueda')?.valueChanges\n      .pipe(\n        debounceTime(300),\n        distinctUntilChanged(),\n        takeUntil(this.destroy$)\n      )\n      .subscribe(() => {\n        this.aplicarFiltros();\n      });\n  }\n\n  cargarDatosIniciales(): void {\n    // Cargar fondos\n    this.fondoService.obtenerFondos()\n      .pipe(takeUntil(this.destroy$))\n      .subscribe({\n        next: (fondos) => this.fondos = fondos,\n        error: (error) => {\n          console.error('Error al cargar fondos:', error);\n          this.notificationService.error('Error al cargar fondos');\n        }\n      });\n\n    // Cargar categorías\n    this.categorias = this.transaccionService.obtenerCategorias();\n  }\n\n  cargarTransacciones(): void {\n    this.loading = true;\n    const filtros: FiltroTransacciones = this.construirFiltros();\n    \n    this.transaccionService.obtenerTransacciones(filtros)\n      .pipe(takeUntil(this.destroy$))\n      .subscribe({\n        next: (response) => {\n          this.transacciones = response.transacciones;\n          this.totalTransacciones = response.total;\n          this.dataSource.data = this.transacciones;\n          this.calcularEstadisticas();\n          this.loading = false;\n        },\n        error: (error) => {\n          console.error('Error al cargar transacciones:', error);\n          this.notificationService.error('Error al cargar transacciones');\n          this.loading = false;\n        }\n      });\n  }\n\n  construirFiltros(): FiltroTransacciones {\n    const formValues = this.filtrosForm.value;\n    const filtros: FiltroTransacciones = {\n      page: this.currentPage,\n      limit: this.pageSize\n    };\n    \n    // Solo agregar filtros que tengan valor\n    if (formValues.busqueda) filtros.busqueda = formValues.busqueda;\n    if (formValues.fondoId) filtros.fondoId = formValues.fondoId;\n    if (formValues.tipo) filtros.tipo = formValues.tipo;\n    if (formValues.categoria) filtros.categoria = formValues.categoria;\n    \n    this.filtrosAplicados = Object.keys(filtros).length > 2; // más que page y limit\n    return filtros;\n  }\n\n  calcularEstadisticas(): void {\n    this.totalIngresos = this.transacciones\n      .filter(t => t.tipo === 'ingreso')\n      .reduce((sum, t) => sum + t.monto, 0);\n    \n    this.totalGastos = this.transacciones\n      .filter(t => t.tipo === 'gasto')\n      .reduce((sum, t) => sum + t.monto, 0);\n    \n    this.balance = this.totalIngresos - this.totalGastos;\n  }\n\n  aplicarFiltros(): void {\n    this.currentPage = 1;\n    this.cargarTransacciones();\n  }\n\n  limpiarFiltros(): void {\n    this.filtrosForm.reset();\n    this.currentPage = 1;\n    this.cargarTransacciones();\n  }\n\n  onPageChange(event: any): void {\n    this.currentPage = event.pageIndex + 1;\n    this.pageSize = event.pageSize;\n    this.cargarTransacciones();\n  }\n\n  abrirDialogoTransaccion(transaccion?: Transaccion): void {\n    const dialogRef = this.dialog.open(TransaccionDialogComponent, {\n      width: '600px',\n      maxWidth: '90vw',\n      data: {\n        transaccion,\n        fondos: this.fondos,\n        categorias: this.categorias\n      }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result && result.action === 'save') {\n        if (transaccion) {\n          this.actualizarTransaccion(transaccion._id!, result.data);\n        } else {\n          this.crearTransaccion(result.data);\n        }\n      }\n    });\n  }\n\n  crearTransaccion(data: any): void {\n    this.transaccionService.crearTransaccion(data)\n      .pipe(takeUntil(this.destroy$))\n      .subscribe({\n        next: () => {\n          this.notificationService.success('Transacción creada correctamente');\n          this.cargarTransacciones();\n        },\n        error: (error) => {\n          console.error('Error al crear transacción:', error);\n          this.notificationService.error('Error al crear la transacción');\n        }\n      });\n  }\n\n  actualizarTransaccion(id: string, data: any): void {\n    this.transaccionService.actualizarTransaccion(id, data)\n      .pipe(takeUntil(this.destroy$))\n      .subscribe({\n        next: () => {\n          this.notificationService.success('Transacción actualizada correctamente');\n          this.cargarTransacciones();\n        },\n        error: (error) => {\n          console.error('Error al actualizar transacción:', error);\n          this.notificationService.error('Error al actualizar la transacción');\n        }\n      });\n  }\n\n  editarTransaccion(transaccion: Transaccion): void {\n    this.abrirDialogoTransaccion(transaccion);\n  }\n\n  eliminarTransaccion(transaccion: Transaccion): void {\n    if (confirm(`¿Estás seguro de que deseas eliminar la transacción \"${transaccion.descripcion}\"?`)) {\n      this.transaccionService.eliminarTransaccion(transaccion._id!)\n        .pipe(takeUntil(this.destroy$))\n        .subscribe({\n          next: () => {\n            this.notificationService.success('Transacción eliminada correctamente');\n            this.cargarTransacciones();\n          },\n          error: (error) => {\n            console.error('Error al eliminar transacción:', error);\n            this.notificationService.error('Error al eliminar la transacción');\n          }\n        });\n    }\n  }\n\n  obtenerNombreFondo(fondoId: string): string {\n    const fondo = this.fondos.find(f => f._id === fondoId);\n    return fondo ? fondo.nombre : 'Fondo no encontrado';\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}